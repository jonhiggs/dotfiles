__my_prompt_command() {
  exit_status=$?
  eval $(bash_environment)
  type rea-as-stick &> /dev/null && rea-as-stick

  if [[ ${exit_status} -eq 0 ]]; then
    # PS1 is normally yellow
    PS1='\[\e[0;33m\]\w\$\[\e[0m\] '
  else
    # PS1 is red when the last command returns non-zero exit status
    PS1='\[\e[0;31m\]\w\$\[\e[0m\] '
  fi
}

PROMPT_COMMAND="__my_prompt_command"

# vim: ft=sh
